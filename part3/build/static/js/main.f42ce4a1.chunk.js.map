{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Notification.js","services/Phonebook.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","Input","text","handleChange","PersonForm","addPerson","addInputs","onSubmit","map","el","key","handler","type","Person","person","deletePerson","name","number","onClick","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setFilter","browserMessage","setBrowserMessage","hook","phoneService","initialNumbers","useEffect","handleInputs","event","target","personsFiltered","toLowerCase","includes","preventDefault","personObject","find","window","confirm","returnedPerson","p","catch","error","setTimeout","createdPerson","concat","console","log","i","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f42ce4a1.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({filter, handleFilter}) => (\n  <div>\n    filter name:<input \n      value={filter}\n      onChange={handleFilter}\n    />\n  </div>\n)\n\nexport default Filter","import React from 'react';\n\nconst Input = ({text, value, handleChange}) => (\n  <div>\n    {text}: <input \n      value={value}\n      onChange={handleChange}\n    />\n  </div>\n)\n\nconst PersonForm = ({addPerson, addInputs}) => (\n  <form onSubmit={addPerson}>\n    {addInputs.map(el => \n      <Input key={el.text} text={el.text} value={el.value} handleChange={el.handler}/>\n    )}\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n    \n  </form>\n)\n\nexport default PersonForm","import React from 'react';\n\nconst Person = ({person, deletePerson}) => (\n  <>\n      <p>{person.name} {person.number} <button onClick={deletePerson}>delete</button></p>\n  </>\n)\n\nexport default Person","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className={message.type}>\n      {message.message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  \n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request\n  .then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, deletePerson }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Notification from './components/Notification'\n\nimport phoneService from './services/Phonebook'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setFilter ] = useState('')\n  const [ browserMessage, setBrowserMessage ] = useState({message:'', type:''})\n\n  const hook = () => {\n    phoneService\n      .getAll()\n      .then(initialNumbers => {\n        setPersons(initialNumbers)\n      })\n  }\n  useEffect(hook, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    if (persons.find(person => person.name === newName)){\n      const person = persons.find(person => person.name === newName)\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number?`)){\n      phoneService\n        .update(person.id, personObject)\n        .then(returnedPerson =>{\n          setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setBrowserMessage({message:\n            error.response.data.error, type: 'error'\n          })\n          setTimeout(() => {\n            setBrowserMessage({message:'', type:''})\n          }, 5000)\n          setPersons(persons)\n          \n        })\n      }\n      else {\n        return\n      }\n    }\n    \n    else {\n      phoneService\n        .create(personObject)\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson))\n          setNewName('')\n          setNewNumber('')\n          setBrowserMessage({message:\n            `Added '${newName}'`, type: 'success'\n          })\n          setTimeout(() => {\n            setBrowserMessage({message:'', type:''})\n          }, 5000) \n        }) \n        .catch(error => {\n          console.log(error.response.data)\n          setBrowserMessage({message:\n            error.response.data.error, type: 'error'\n          })\n          setTimeout(() => {\n            setBrowserMessage({message:'', type:''})\n          }, 5000)\n          setPersons(persons)\n          \n        })\n        \n    }  \n    \n  }\n\n  const deletePerson = (person) => {\n    phoneService\n      .deletePerson(person.id)\n      .then(hook)\n      .catch(error => {\n        setBrowserMessage({message:\n          `the person '${person.name}' was already deleted from the server`, type: 'error'\n        })\n        setTimeout(() => {\n          setBrowserMessage({message:'', type:''})\n        }, 5000)\n        setPersons(persons.filter(p => p.id !== person.id))\n      })\n  }\n\n  const handleAddName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleAddNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleInputs = [{text: 'name', handler: handleAddName, value: newName}, \n    {text: 'number', handler: handleAddNumber, value: newNumber}]\n\n  const personsFiltered = persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={browserMessage} />\n      <Filter filter={newFilter} handleFilter={handleFilter} />\n      <h3>Add a new</h3>\n      <PersonForm addPerson={addPerson} addInputs={handleInputs}/>\n      <h3>Numbers</h3>\n      {personsFiltered.map((person, i) =>\n          <Person \n            key={i} \n            person={person} \n            deletePerson={() => deletePerson(person)}\n          />\n        )}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}